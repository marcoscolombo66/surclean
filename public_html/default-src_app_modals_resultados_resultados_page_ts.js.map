{"version":3,"file":"default-src_app_modals_resultados_resultados_page_ts.js","mappings":"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","sources":["./src/app/modals/resultados/resultados.page.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient,HttpHeaders } from '@angular/common/http';\r\nimport { AppConfig } from 'src/app/config';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { MasinfoPage } from '../masinfo/masinfo.page';\r\nimport { NavParams } from '@ionic/angular';\r\nimport { InfiniteScrollCustomEvent } from '@ionic/angular';\r\n@Component({\r\n  selector: 'app-resultados',\r\n  templateUrl: './resultados.page.html',\r\n  styleUrls: ['./resultados.page.scss'],\r\n})\r\nexport class ResultadosPage implements OnInit {\r\n  urlRoot: string = AppConfig.urlRoot;\r\n  productos: any;\r\n  nombreCategoria: any;\r\n  pageNumber: number = 1;\r\n  constructor( public navParams: NavParams,public http: HttpClient,public modalCtrl: ModalController) {\r\n    this.getProductos();\r\n    this.nombreCategoria=this.navParams.get('nombreCategoria')\r\n   }\r\n   async  modalMasInfo(idProducto,nombreProducto,descripcionProducto,fotoProducto,precioProducto) {\r\n    //const user= await this.inicia.getUser();\r\n    //const url_proyecto = user[0].url_proyecto\r\n    const modal = await this.modalCtrl.create({\r\n      component: MasinfoPage,\r\n      //breakpoints: [0, 0.99],\r\n      //initialBreakpoint: 0.99,\r\n      //handle: true,\r\n      componentProps: {\r\n        mySubject: idProducto,\r\n        mySubject2: nombreProducto,\r\n        mySubject3: descripcionProducto,\r\n        mySubject4: fotoProducto,       \r\n        mySubject5: precioProducto,\r\n        url_proyecto: this.urlRoot,\r\n        \r\n      },\r\n      animated: true,\r\n      canDismiss: true,\r\n      keyboardClose: true,\r\n    });\r\n    await modal.present();\r\n  }\r\n\r\n  onIonInfinite(ev) {\r\n    setTimeout(() => {\r\n      // Incrementa el número de página\r\n      this.pageNumber++;\r\n  \r\n      // Llama al método getProductos con el número de página actual\r\n      this.getProductos(this.pageNumber);\r\n  \r\n      // Deshabilita el evento ionInfinite si ya no hay más productos\r\n      if (this.productos.length % 6 !== 0) {\r\n        (ev as InfiniteScrollCustomEvent).target.disabled = true;\r\n      }\r\n  \r\n      // Completa el evento de scroll infinito\r\n      (ev as InfiniteScrollCustomEvent).target.complete();\r\n    }, 500);\r\n  }\r\n  async getProductos(pageNumber: number = 1) {\r\n    const headers: any\t\t= new HttpHeaders({'Content-Type' : 'application/octet-stream'});\r\n    \r\n    const options: any = {IDCATEGORIA: this.navParams.get('idCategoria'),pageNumber};\r\n  \r\n    // Realiza la solicitud HTTP con las opciones\r\n    this.http.post(this.urlRoot + '/index.php/Api/ProductosCategoria/', JSON.stringify(options), headers)\r\n      .subscribe(\r\n        (res: any) => {          \r\n            // Si está buscando, asigna los resultados de la búsqueda\r\n            this.productos = res;\r\n         \r\n  \r\n          // ...\r\n        },\r\n        (error: any) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n  }\r\n  cancel() {\r\n    return this.modalCtrl.dismiss(null, 'cancel');\r\n  }\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}